{{filter-groups-toggle filterGroups=filterGroups onToggleUpdate=(action 'onToggleUpdate')}}

<table class="records-table">
  <tr>
    <th>Rank</th>
    <th>Player</th>
    <th>Record</th>
    {{#each shownFilterGroups as |filterGroup|}}
      <th>{{filterGroup.name}}</th>
    {{/each}}
  </tr>

  {{#each records as |record|}}
    <tr>
      <td>{{record.rank}}</td>
      <td>{{record.user.username}}</td>
      <td>{{#link-to 'charts.user-history' chart.id record.user.id}}
        {{record.valueDisplay}}
      {{/link-to}}</td>

      {{#each shownFilterGroups as |filterGroup|}}
        <td>
          {{get (find-filter-of-group record.filters filterGroup.id) 'name'}}
        </td>
      {{/each}}
    </tr>
  {{/each}}
</table>
