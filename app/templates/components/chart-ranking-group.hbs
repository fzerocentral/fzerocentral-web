<table class="records-table">
  <thead>
    <tr>
      <th>Rank</th>
      <th>Player</th>
      <th>
        <LinkTo @route="chart-groups.show" @model={{@chartGroup.id}} @query={{hash mainChartId=this.mainChart.id}}>
          {{this.mainChart.name}}
        </LinkTo>
      </th>
      {{#each this.otherCharts as |chart|}}
        <th>
          <LinkTo @route="chart-groups.show" @model={{@chartGroup.id}} @query={{hash mainChartId=chart.id}}>
            {{chart.name}}
          </LinkTo>
        </th>
      {{/each}}
    </tr>
  </thead>

  <tbody>
    {{#each this.recordRows as |recordRow|}}
      <tr>
        <td>{{recordRow.mainRecord.rank}}</td>
        <td>{{recordRow.mainRecord.player.username}}</td>
        <td>
          <LinkTo @route="charts.player-history" @models={{array this.mainChart.id recordRow.mainRecord.player.id}}>
            {{recordRow.mainRecord.valueDisplay}}
          </LinkTo>
        </td>

        {{#each recordRow.otherRecords as |otherRecord|}}
          <td>
            <LinkTo @route="charts.player-history" @models={{array otherRecord.chart.id otherRecord.player.id}}>
              {{otherRecord.valueDisplay}}
            </LinkTo>
          </td>
        {{/each}}
      </tr>
    {{/each}}
  </tbody>
</table>
