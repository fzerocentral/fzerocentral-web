<div class="filter-basic-fields {{if this.isEditing "hidden"}}">
  <h2>{{@filter.name}}</h2>
  {{#if (eq @filter.filterGroup.kind "select")}}
    <div>
      Type: {{@filter.usageType}}
    </div>
  {{/if}}
  {{#if (eq @filter.filterGroup.kind "numeric")}}
    <div>
      Numeric value: {{@filter.numericValue}}
    </div>
  {{/if}}

  <div>
    <button type="button" class="start-editing-filter-button" {{action "startEditing"}}> Edit details </button>
  </div>
</div>

<div class="filter-edit-form {{unless this.isEditing "hidden"}}">
  <div>
    <label for="edit-filter-name">Name</label>
    <input
      type="text" name="name" id="edit-filter-name" />
  </div>
  {{#if (eq @filter.filterGroup.kind "numeric")}}
    <div>
      <label for="edit-filter-numeric-value">Numeric value</label>
      <input
        type="number" name="numeric-value" id="edit-filter-numeric-value" />
    </div>
  {{/if}}

  <div class="error-message">{{error-display this.filterEditError}}</div>

  <div>
    <button type="button" class="save-button" {{action "saveEdits"}}> Save edits </button>
    <button type="button" class="cancel-button" {{action "stopEditing"}}> Cancel </button>
  </div>
</div>


{{#if (eq @filter.usageType "choosable")}}
  <div class="record-count">Used by {{this.recordCount}} records</div>
{{else}}
  <div class="record-count">Applies to {{this.recordCount}} records</div>
{{/if}}


<div class="error-message">{{error-display this.filterDeleteError}}</div>
<div>
  <button type="button" class="filter-delete-button" {{@deleteFilter}}> Delete this filter </button>
</div>

{{!--
{{#if (eq @filter.filterGroup.kind "select")}}
  <hr>

  {{#if (eq @filter.usageType "implied")}}
    <div class="incoming-implications-list">
      <h3>Implied by</h3>

      {{#if (eq @incomingImplications.length 0)}}
        (None)
      {{else}}
        {{#each @incomingImplications as |implyingFilter|}}
          <button type="button" class="show-filter-detail-button" {{action "selectFilter" implyingFilter.id}}>
            {{implyingFilter.name}}
          </button>
        {{/each}}
        <PageNavigation
          @pageResults={{@incomingImplications}}
          @pageNumber={{@incomingImplicationsPageNumber}}
          @updatePageNumber={{@updateIncomingImplicationsPageNumber}} />
      {{/if}}
    </div>
  {{/if}}

  {{#if (eq @filter.usageType "choosable")}}
    <div class="outgoing-implications-list">
      <h3>Implies</h3>

      {{#if (eq @outgoingImplications.length 0)}}
        (None)
      {{else}}
        {{#each @outgoingImplications as |impliedFilter|}}
          <button type="button" class="show-filter-detail-button" {{action (@updateFilterId impliedFilter.id)}}>
            {{impliedFilter.name}}
          </button>
        {{/each}}
        <PageNavigation
          @pageResults={{@outgoingImplications}}
          @pageNumber={{@outgoingImplicationsPageNumber}}
          @updatePageNumber={{@updateOutgoingImplicationsPageNumber}} />
      {{/if}}
    </div>
  {{/if}}

  <div class="filter-implication-create-form">
    <h3>Create an outgoing implication</h3>

    <div class="target-filter-select select-field-wrapper">
      <FilterSelect
        @filterGroup={{@filter.filterGroup}}
        @selected={{@newImplicationTargetFilter}}
        @onFilterChange={{@updateNewImplicationTargetFilter}} />
    </div>

    <div class="error-message">{{error-display @implicationCreateError}}</div>

    <div>
      <button type="button" class="create-button" {{@createImplication}}> Create implication </button>
    </div>
  </div>

  <div class="filter-implication-delete-form">
    <h3>Delete an outgoing implication</h3>

    <div class="implication-select select-field-wrapper">
      <PowerSelect
        {{! Initial choices }}
        @options={{@outgoingImplications}}
        @searchEnabled={{true}}
        {{! Action to run when typing in the search field; should return updated choices }}
        @search={{@doDeleteImplicationNameSearch}}
        @selected={{@implicationDeletionTargetFilter}}
        {{! Action to run when selecting a choice }}
        @onChange={{@updateImplicationDeletionTargetFilter}}
        @placeholder="Not selected"
        @matchTriggerWidth={{false}}
        as |option|>
        {{option.name}}
      </PowerSelect>
    </div>

    <div class="error-message">{{error-display @implicationDeleteError}}</div>

    <div>
      <button type="button" class="delete-button" {{@deleteImplication}}> Delete implication </button>
    </div>
  </div>
{{/if}}
--}}